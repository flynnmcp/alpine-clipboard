{"version":3,"file":"alpine-clipboard.js","sources":["../src/index.js","../builds/cdn.js"],"sourcesContent":["let onCopy = () => {}\n\nconst copy = (target) => {\n    if (typeof target === 'function') {\n        target = target()\n    }\n\n    if (typeof target === 'object') {\n        target = JSON.stringify(target)\n    }\n\n    if (!window.navigator.clipboard) {\n        // clipboard not available\n        throw new Error('Clipboard not available')\n    }\n\n    return window.navigator.clipboard.writeText(target).then(onCopy)\n}\n\nfunction Clipboard(Alpine) {\n    Alpine.magic('clipboard', () => {\n        return copy\n    })\n\n    Alpine.directive('clipboard', (el, { modifiers, expression }, { evaluateLater, cleanup }) => {\n        const getCopyContent = modifiers.includes('raw') ? c => c(expression) : evaluateLater(expression)\n        const clickHandler = () => getCopyContent(copy)\n\n        el.addEventListener('click', clickHandler)\n\n        cleanup(() => {\n            el.removeEventListener('click', clickHandler)\n        })\n    })\n}\n\nClipboard.configure = (config) => {\n    if (config.hasOwnProperty('onCopy') && typeof config.onCopy === 'function') {\n        onCopy = config.onCopy\n    }\n\n    return Clipboard\n}\n\nexport default Clipboard;","import clipboard from '../src/index'\n\ndocument.addEventListener('alpine:initializing', () => {\n    clipboard(window.Alpine)\n})"],"names":["onCopy","copy","target","JSON","stringify","window","navigator","clipboard","Error","writeText","then","Clipboard","Alpine","magic","directive","el","modifiers","expression","evaluateLater","cleanup","getCopyContent","includes","c","clickHandler","addEventListener","removeEventListener","configure","config","hasOwnProperty","document"],"mappings":";;;;;IAAA,IAAIA,MAAM,GAAG,MAAM,EAAnB;;IAEA,MAAMC,IAAI,GAAIC,MAAD,IAAY;IACrB,MAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;IAC9BA,IAAAA,MAAM,GAAGA,MAAM,EAAf;IACH;;IAED,MAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;IAC5BA,IAAAA,MAAM,GAAGC,IAAI,CAACC,SAAL,CAAeF,MAAf,CAAT;IACH;;IAED,MAAI,CAACG,MAAM,CAACC,SAAP,CAAiBC,SAAtB,EAAiC;IAC7B;IACA,UAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;IACH;;IAED,SAAOH,MAAM,CAACC,SAAP,CAAiBC,SAAjB,CAA2BE,SAA3B,CAAqCP,MAArC,EAA6CQ,IAA7C,CAAkDV,MAAlD,CAAP;IACH,CAfD;;IAiBA,SAASW,SAAT,CAAmBC,MAAnB,EAA2B;IACvBA,EAAAA,MAAM,CAACC,KAAP,CAAa,WAAb,EAA0B,MAAM;IAC5B,WAAOZ,IAAP;IACH,GAFD;IAIAW,EAAAA,MAAM,CAACE,SAAP,CAAiB,WAAjB,EAA8B,CAACC,EAAD,EAAK;IAAEC,IAAAA,SAAF;IAAaC,IAAAA;IAAb,GAAL,EAAgC;IAAEC,IAAAA,aAAF;IAAiBC,IAAAA;IAAjB,GAAhC,KAA+D;IACzF,UAAMC,cAAc,GAAGJ,SAAS,CAACK,QAAV,CAAmB,KAAnB,IAA4BC,CAAC,IAAIA,CAAC,CAACL,UAAD,CAAlC,GAAiDC,aAAa,CAACD,UAAD,CAArF;;IACA,UAAMM,YAAY,GAAG,MAAMH,cAAc,CAACnB,IAAD,CAAzC;;IAEAc,IAAAA,EAAE,CAACS,gBAAH,CAAoB,OAApB,EAA6BD,YAA7B;IAEAJ,IAAAA,OAAO,CAAC,MAAM;IACVJ,MAAAA,EAAE,CAACU,mBAAH,CAAuB,OAAvB,EAAgCF,YAAhC;IACH,KAFM,CAAP;IAGH,GATD;IAUH;;IAEDZ,SAAS,CAACe,SAAV,GAAuBC,MAAD,IAAY;IAC9B,MAAIA,MAAM,CAACC,cAAP,CAAsB,QAAtB,KAAmC,OAAOD,MAAM,CAAC3B,MAAd,KAAyB,UAAhE,EAA4E;IACxEA,IAAAA,MAAM,GAAG2B,MAAM,CAAC3B,MAAhB;IACH;;IAED,SAAOW,SAAP;IACH,CAND;;IClCAkB,QAAQ,CAACL,gBAAT,CAA0B,qBAA1B,EAAiD,MAAM;IACnDjB,EAAAA,SAAS,CAACF,MAAM,CAACO,MAAR,CAAT;IACH,CAFD;;;;;;"}